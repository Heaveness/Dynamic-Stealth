CURRENTLY WORKING ON ===================================================

Check to make sure recentlySeen() is working correctly

Make entities that *are* seen easily visible on client (because your character saw them); eg. not rendered as invisible

Rafradek said he did a fix, so keep an eye out for an update to TF2 Stuff https://github.com/rafradek/Mods/issues/47...
...and change code accordingly when it's released

Check out github issue #9 (configurable stealth buffs feature request)



BUG FIXES ==============================================================

Fix Endermen

Go through all code and make sure it only executes on the necessary side

Fix mobs in search mode periodically NOT doing the search, but going back to it later...
...noticed with spider, and so far I think it is specific to spiders?

Fix mobs not moving to last known position before searching when too far away...
...Create function which, when beyond normal pathfinding range...
...finds a partial path instead of a full path, and follows it...
...then if not at the final destination, finds another partial path and follows it...
...etc.
This system, if improved upon, could be used for most pathfinding and should improve pathfinding performance (by splitting it up and calculating parts at different times)



THREAT SYSTEM ==========================================================

Make owned entities change their threat based on their owner's actions (eg. see AIHurtByTargetEdit and AIOwnerHurtByTargetEdit)



VISUAL INDICATORS ======================================================

Add optional reticle which draws on focused entity (if there is one, and it is visible)

Add target locking (press button to lock/unlock on current target)

Add visible indicators when mobs detect you, lose you, etc (somewhat similar to Mark of the Ninja)
"!" when target spotted
"!?" when target not sensed, includes when "remotely alerted" due to "reinforcement calling"
"?" when starting to search an area
"..." when target is lost (giving up search / going out-of-combat)

Add to HUD...
...light
...speed
...combined stealth multiplier?

Add the ability to see mob FOVs (as a 3D render), maybe when under a potion effect or something



AI =====================================================================

Can probably combine the two below into a single AI task...
...Replace EntityAILookIdle with a new version that has gradual head rotation, instead of just removing it
...Change "wandering" AI so that it can't instantly flip a 180 (force it to turn gradually before moving in the chosen direction)

Make it so mobs on the same team can tell each other where you are / where they last saw you



SENSES =================================================================

Implement alertmultiplier for threat bypass entities if they've seen the target within the last 20 ticks

Improve vision detection by allowing entities to see parts of other entities besides just their eyes (right now they only "have LOS" if they have LOS to each others' eyes)

Add touch-based detection (within very close range)
Apply stealth-based touch attribute

Add sound-based detection
Apply stealth-based sound attributes

Add scent-based detection (wolves, cats, bears)
...Add the ability for entities to smell not only other living entities, but also ground items, etc.
Apply stealth-based scent attributes

Make it so mobs can see through glass (but maybe not quite yet; for now it's good for watching/debugging their behavior when they're searching for you)



ITEMS ==================================================================

Add a stealth guidebook

Add smoke bombs which block LOS

Add hand mirror, which allows you to peek around corners (changes camera position while in use, based on which hand it is in)

Add armor/baubles that improve stealth/anti-stealth attributes



MOBS ===================================================================

Ninjas...
...Ninjas try to use stealth mechanics
...Make ninjas sometimes disguise themselves as players who play on the server, but with slight typos in the nametag
...If they kill a player while disguised, it still says the player was killed by a ninja, to help prevent confused players raging at each other

Gray Men...
...Gray men are considered invisible if you are facing them directly
...When they were visible, but are no longer visible, stop sending updates to client, but *don't* tell client to remove them; this should cause an illusion that they are holding still



MUSIC ==================================================================

Possibly change music using ActualMusic when going into battle, etc



MOD COMPATIBILITY ======================================================

Techgun mobs don't build damage threat, because techguns is cancelling the LivingHurtEvent

Lycanite's Mobs can still attack through walls; probably using different LOS

Lycanite's Mobs have their own EntityAILookIdle which needs removing/replacing

Look into crash with Deadly Mobs and its haunted cows...
...https://paste.ee/p/gnVtK
...apparently haunted cows are also not supposed to look haunted until they get hit

Make temporary BackStab compat module? (BackStab issue #4 and #2)

Look into issue where "entities don't always notice you right away"...
...Epic Siege Mod
...Mo' Creatures
...I'm guessing this is probably due to a custom AI based on one of the vanilla AIs with a "chance" of seeing you
